## Как запустить проект Python, используя файл `setup.py` для установки пакета:

Этот способ позволяет устанавливать ваш проект как полноценный пакет, что упрощает управление зависимостями и импорт модулей.

Это стандартная практика для создания библиотек и сложных приложений на Python, обеспечивающая чистое управление зависимостями и развертывание.

### Структура проекта

Сначала создайте базовую структуру каталогов для вашего проекта.

```
project_name/
├── project_name/           # Основной пакет с исходным кодом
│   ├── __init__.py         # Делает каталог пакетом
│   └── main_module.py      # Ваш основной код
├── setup.py                # Файл для описания и установки пакета
└── README.md               # Описание проекта (опционально)

```

### Создание файла `setup.py`

Файл `setup.py` — это скрипт, который сообщает инструментам сборки (таким как `setuptools`), как упаковать и установить ваш проект.

Создайте файл `setup.py` в корневой папке проекта (`project_name/`) со следующим содержимым:

```python
from setuptools import setup, find_packages

setup(
    name='my-awesome-project',  # Имя, которое будет использоваться для установки (pip install)
    version='0.1.0',            # Версия вашего проекта
    packages=find_packages(),   # Автоматически находит все пакеты (папки с __init__.py)
    install_requires=[          # Список зависимостей, которые pip должен установить
        'requests>=2.25.1',     # Например: 'requests'
        'tqdm',                 # Еще одна зависимость
    ],
    # Дополнительные метаданные (опционально, но рекомендуется)
    author='Ваше Имя',
    author_email='email@example.com',
    description='Описание моего потрясающего проекта Python.',
    url='http://github.com/yourusername/my-awesome-project',
)

```

### Настройка основного кода

Внутри папки `project_name/` создайте файл `__init__.py` (может быть пустым) и, например, `main_module.py`:

**`project_name/main_module.py`**

```python
def run_app():
    print("Приложение 'my-awesome-project' запущено!")

if __name__ == '__main__':
    run_app()
```

### Создание и активация виртуального окружения venv

Это **обязательный** шаг для изоляции вашего проекта и его зависимостей.

1. **Создайте окружение:**
```bash
python3 -m venv venv
```


2. **Активируйте окружение:**
* **Linux/macOS:**
```bash
source venv/bin/activate
```


* **Windows (Command Prompt):**
```bash
venv\Scripts\activate.bat
```


* **Windows (PowerShell):**
```bash
venv\Scripts\Activate.ps1
```

### Создание и активация виртуального окружения uv

uv может создать виртуальное окружение гораздо быстрее, чем встроенный venv.

1. **Установите uv (если еще не установлен):**

```bash
pip install uv
```

2. **Создайте окружение:**

Перейдите в корневой каталог проекта (project_name/) и создайте виртуальное окружение.   
По умолчанию uv создает папку venv/ (или .venv/, в зависимости от конфигурации).

```bash
uv venv
````
(Это то же самое, что и python -m venv venv, но выполняется намного быстрее.)

3. **Активируйте окружение:**

```bash
# Linux/macOS
source venv/bin/activate

# Windows (Command Prompt)
venv\Scripts\activate.bat

# Windows (PowerShell)
venv\Scripts\Activate.ps1
```


### Установка проекта

Теперь, когда ваше виртуальное окружение активно, вы можете установить свой проект, используя команду, которую вы упомянули.  

Перейдите в **корневой каталог** проекта (`project_name/`, где находится `setup.py`).

1. **Установите проект в "режиме разработки" (editable mode):**
```bash
# При использовании venv вам  необходимо выполнить
pip install -e .

# При использовании uv вам  необходимо выполнить
uv pip install -e .
# uv выполняет эту установку (включая разрешение и установку всех зависимостей, указанных в setup.py в секции install_requires) значительно быстрее, чем pip.
```

* Ключ `-e` или `--editable` означает, что `pip` создает ссылку (символическую) на ваш исходный код.
  Это позволяет вам **вносить изменения в файлы, и они сразу же будут отражаться** без необходимости переустановки.

* Точка (`.`) означает текущий каталог (где находится `setup.py`).


После выполнения этой команды ваш проект (`my-awesome-project`) установлен в активное виртуальное окружение.

### Запуск проекта

Поскольку проект установлен как пакет, вы можете запускать его как любой установленный пакет.

**A. Через вызов модуля:**

```bash
python -m project_name.main_module

```

*Или, если вы добавите точку входа (entry point) в `setup.py`, вы можете создать исполняемый скрипт:*

**B. Через исполняемый скрипт (опционально):**

Добавьте секцию `entry_points` в ваш `setup.py`:

```python
# ... в setup.py
    # ...
    entry_points={
        'console_scripts': [
            'my-app-run = project_name.main_module:run_app',  # my-app-run - имя скрипта, project_name.main_module - файл, run_app - функция
        ],
    },
)

```

После **переустановки** проекта (`pip install -e .`), вы сможете запустить его просто по имени скрипта:

```bash
my-app-run

```

---


